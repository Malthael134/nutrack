---
import { WikiLayout } from "@/layouts";
import { turso } from "@/turso";

const query = `
    SELECT nutrients.id AS id, nameTrans.en_us AS name, descTrans.en_us AS description
        FROM nutrients
        INNER JOIN translations AS nameTrans ON nameTrans.ID = nutrients.name
        INNER JOIN translations AS descTrans ON descTrans.ID = nutrients.description;
`;
type Row = {
    id: number;
    name: string;
    description: string;
};

const { rows } = await turso.execute(query);
---

<WikiLayout title="Nutrients">
    <h1 class="text-2xl">Nutrients...</h1>
    <div class="grid grid-cols-2 gap-2">
        <h1 class="font-bold text-2xl">Nutrient Name</h1>
        <h1 class="font-bold text-2xl">Nutrient Description</h1>
        {
            rows.map((nutrient: any) => (
                <>
                    <div>{nutrient.id}</div>
                    <div>{nutrient.name}</div>
                    <div>{nutrient.description}</div>
                </>
            ))
        }
    </div>
</WikiLayout>
